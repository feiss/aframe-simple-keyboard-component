<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>A-Frame Super Keyboard - Basic</title>
    <meta name="description" content="Basic example for Super Keyboard."></meta>
    <script src="https://aframe.io/releases/1.1.0/aframe.min.js"></script>
    <script src="../../dist/aframe-super-keyboard.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.0.0/dist/aframe-environment-component.min.js"></script>

    <script>
        AFRAME.registerComponent('kb-ctrl', {
            init: function() {
                //captures enter and uses it to set xoffset - somewhere between 90 and 110
                //the offset allows to trim intersection coordinate errors
                this.el.addEventListener('superkeyboardinput', function(e) {
                    document.getElementById('keyboard').components['super-keyboard'].data.handOffsetX= (100 - e.detail.value) /100;
                });
            }
        });
    </script>
</head>
<body>
<a-scene environment="preset: arches;">
    <!-- left hand with keyboard, no caster for now as was deleting things  !-->
    <a-entity id="leftHand" laser-controls="hand: left" raycaster="showLine: false;">
        <a-entity id="keyboard" super-keyboard="hand: #rightHand; width: .2; handOffsetX: 0.06; handOffsetY: -0.03; multipleInputs: true; imagePath:../../dist/" position="0 0.1 0"
                  rotation="-90 0 0" kb-ctrl></a-entity>
    </a-entity>
    <!-- right hand with help panel -->
    <a-entity id="rightHand" laser-controls="hand: right;" raycaster="lineColor:pink">
        <a-text value="Enter a number to change\nthe keyboard cursor\nX axis offset\n(0=-1,100=0,106=.06)" position="0 0.08 0"
                rotation="-90 0 0" scale="0.1 0.1 0.1" align="center" color="#FFFFFF"></a-text>
    </a-entity>
</a-scene>

</body>


</html>
